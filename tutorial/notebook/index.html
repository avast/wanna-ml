
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tensorboard/">
      
      
        <link rel="next" href="../job/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>WANNA notebook - WANNA ML</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wanna-notebook" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="WANNA ML" class="md-header__button md-logo" aria-label="WANNA ML" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WANNA ML
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              WANNA notebook
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/avast/wanna-ml/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    avast/wanna-ml
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="WANNA ML" class="md-nav__button md-logo" aria-label="WANNA ML" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    WANNA ML
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/avast/wanna-ml/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    avast/wanna-ml
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tensorboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Tensorboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    WANNA Notebook
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    WANNA Notebook
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notebook-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Notebook Environments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting buckets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tensorboard-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Tensorboard integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roles-and-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Roles and permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development-and-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Local development and SSH
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Local development and SSH">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting-with-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting with VSCode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WANNA Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notebook-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Notebook Environments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting buckets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tensorboard-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Tensorboard integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roles-and-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Roles and permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development-and-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Local development and SSH
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Local development and SSH">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting-with-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting with VSCode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="wanna-notebook">WANNA Notebook<a class="headerlink" href="#wanna-notebook" title="Permanent link">#</a></h1>
<p>We offer a simple way of managing Jupyter Notebooks on GCP using 
<a href="https://cloud.google.com/vertex-ai/docs/workbench/instances/introduction">Vertex AI Workbench Instances</a>, 
with multiple ways to set your environment, mount a GCS bucket, and more.</p>
<div class="autodoc">
<div class="autodoc-signature"><em>class </em><code>wanna.core.models.workbench.<strong>InstanceModel</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">*</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">name</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">project_id</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">zone</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">region=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">labels=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">description=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">service_account=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">network=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">bucket=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">tags=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">metadata=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">machine_type='e2-standard-2'</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">gpu=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">data_disk=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">subnet=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">tensorboard_ref=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">type='instance'</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">owner=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">boot_disk=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">environment=NotebookEnvironment(vm_image=VMImage(version=None), docker_image_ref=None)</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">no_public_ip=True</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">enable_dataproc=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">enable_ip_forwarding=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">no_proxy_access=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">enable_monitoring=True</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">idle_shutdown_timeout=720</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">collaborative=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">env_vars=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">bucket_mounts=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">post_startup_script=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">post_startup_script_behavior='run_once'</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">environment_auto_upgrade=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">delete_to_trash=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">report_health=True</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><ul>
<li><code>type</code> - [str] (optional) Type of the notebook, instance, for dispatching purposes.</li>
<li><code>name</code>- [str] Custom name for this instance</li>
<li><code>project_id</code> - [str] (optional) Overrides GCP Project ID from the <code>gcp_profile</code> segment</li>
<li><code>zone</code> - [str] (optional) Overrides zone from the <code>gcp_profile</code> segment</li>
<li><code>region</code> - [str] (optional) Overrides region from the <code>gcp_profile</code> segment</li>
<li><code>labels</code>- [dict[str, str]] (optional) Custom labels to apply to this instance</li>
<li><code>service_account</code> - [str] (optional) Overrides service account from the <code>gcp_profile</code> segment</li>
<li><code>network</code> - [str] (optional) Overrides network from the <code>gcp_profile</code> segment</li>
<li><code>tags</code>- [dict[str, str]] (optional) Tags to apply to this instance</li>
<li><code>metadata</code>- [Optional[dict[str, Any]]] (optional) Custom metadata to apply to this instance</li>
<li><code>owner</code> - [str] This can be either a single user email address and that would be the only one
  able to access the notebook. Or service account and then everyone who has the iam.serviceAccounts.actAs
  permission on the specified service account will be able to connect.</li>
<li><code>machine_type</code> - [str] (optional) GCP Compute Engine machine type</li>
<li><code>gpu</code>- [GPU] (optional) The hardware GPU accelerator used on this instance.</li>
<li><code>data_disk</code> - [Disk] (optional) Data disk configuration to attach to this instance.</li>
<li><code>kernels</code> - [list[str]] (optional) Custom kernels given as links to container registry</li>
<li><code>tensorboard_ref</code> - [str] (optional) Reference to Vertex Experimetes</li>
<li><code>subnet</code>- [str] (optional) Subnetwork of a given network</li>
<li><code>internal_ip_only</code> - [bool] (optional) Public or private (default) IP address</li>
<li><code>idle_shutdown_timeout</code> - [int] (optional) Time in minutes, between 10 and 1440, defaults to 720. If None,
    there is no idle shutdown</li>
<li><code>post_startup_script</code> - [str] (optional) Path to a script that will be executed after the instance is started.</li>
<li><code>post_startup_script_behavior</code> - [str] Defines the behavior of the post startup script.
    Documentation https://cloud.google.com/vertex-ai/docs/workbench/instances/manage-metadata</li>
<li><code>environment_auto_upgrade</code> - [str] (optional) Cron schedule for environment auto-upgrade.</li>
<li><code>delete_to_trash</code> - [bool] (optional) If true, the instance will be deleted to trash.</li>
<li><code>report_health</code> - [bool] (optional) If true, the instance will report health to Cloud Monitoring</li>
</ul></div>
</div>
<h3 id="notebook-environments">Notebook Environments<a class="headerlink" href="#notebook-environments" title="Permanent link">#</a></h3>
<p>There are two distinct possibilities for your environment.</p>
<ul>
<li>Use a custom docker image, we recommend you build on top of GCP notebook ready images, either with
using one of their images as a base or by using the <code>notebook_ready_image</code> docker type. 
  It is also possible to build your image from scratch, but please follow GCP's recommended 
  principles and port settings as described <a href="https://cloud.google.com/vertex-ai/docs/workbench/user-managed/custom-container">here</a>.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">docker</span><span class="o">:</span>
<span class="w">  </span><span class="n">images</span><span class="o">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">build_type</span><span class="o">:</span><span class="w"> </span><span class="n">local_build_image</span>
<span class="w">      </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">custom</span><span class="o">-</span><span class="n">notebook</span><span class="o">-</span><span class="n">container</span>
<span class="w">      </span><span class="n">context_dir</span><span class="o">:</span><span class="w"> </span><span class="o">.</span>
<span class="w">      </span><span class="n">dockerfile</span><span class="o">:</span><span class="w"> </span><span class="n">Dockerfile</span><span class="o">.</span><span class="na">notebook</span>
<span class="w">  </span><span class="n">repository</span><span class="o">:</span><span class="w"> </span><span class="n">wanna</span><span class="o">-</span><span class="n">samples</span>
<span class="w">  </span><span class="n">cloud_build</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>

<span class="n">notebooks</span><span class="o">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">wanna</span><span class="o">-</span><span class="n">notebook</span><span class="o">-</span><span class="n">custom</span><span class="o">-</span><span class="n">container</span>
<span class="w">    </span><span class="n">environment</span><span class="o">:</span>
<span class="w">      </span><span class="n">docker_image_ref</span><span class="o">:</span><span class="w"> </span><span class="n">custom</span><span class="o">-</span><span class="n">notebook</span><span class="o">-</span><span class="n">container</span>
</code></pre></div>

<ul>
<li>Use a virtual machine image with preconfigured python libraries containing TensorFlow, PyTorch, R and more.
Currently, GCP does not offer any customization, so you just pass empty dict to the <code>vm_image</code>.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="nx">notebooks</span><span class="p">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="nx">wanna</span><span class="o">-</span><span class="nx">notebook</span><span class="o">-</span><span class="nx">vm</span>
<span class="w">    </span><span class="nx">machine_type</span><span class="p">:</span><span class="w"> </span><span class="nx">n1</span><span class="o">-</span><span class="nx">standard</span><span class="o">-</span><span class="mi">4</span>
<span class="w">    </span><span class="nx">environment</span><span class="p">:</span>
<span class="w">     </span><span class="nx">vm_image</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

<h3 id="mounting-buckets">Mounting buckets<a class="headerlink" href="#mounting-buckets" title="Permanent link">#</a></h3>
<p>We can automatically mount GCS buckets with <code>gcsfuse</code> during the notebook startup.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><code>    bucket_mounts:
      <span class="k">-</span> bucket_name: us-burger-gcp-poc-mooncloud
        bucket_dir: data
        local_path: /home/jupyter/mounted/gcs
</code></pre></div>

<h3 id="tensorboard-integration">Tensorboard integration<a class="headerlink" href="#tensorboard-integration" title="Permanent link">#</a></h3>
<p><code>tb-gcp-uploader</code> is needed to upload the logs to the tensorboard instance. A detailed
tutorial on this tool can be found <a href="https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-overview">here</a>.</p>
<p>If you set the <code>tensorboard_ref</code> in the WANNA yaml config, we will export the tensorboard resource name
as <code>AIP_TENSORBOARD_LOG_DIR</code>.</p>
<h3 id="roles-and-permissions">Roles and permissions<a class="headerlink" href="#roles-and-permissions" title="Permanent link">#</a></h3>
<p>Permission and suggested roles (applying the principle of least privilege) required for notebook manipulation:</p>
<table>
<thead>
<tr>
<th>WANNA action</th>
<th>Permissions</th>
<th>Suggested Roles</th>
</tr>
</thead>
<tbody>
<tr>
<td>create</td>
<td>See <a href="https://cloud.google.com/vertex-ai/docs/workbench/user-managed/iam">full list</a></td>
<td><code>roles/notebooks.runner</code>, <code>roles/notebooks.admin</code></td>
</tr>
<tr>
<td>delete</td>
<td>see <a href="https://cloud.google.com/vertex-ai/docs/workbench/user-managed/iam">full list</a></td>
<td><code>roles/notebooks.admin</code></td>
</tr>
</tbody>
</table>
<p>For accessing the JupyterLab web interface, you must grant the user access to the service account used by the notebooks instance. 
If the instance owner is set, only this user can access the web interface.</p>
<p><a href="https://cloud.google.com/vertex-ai/docs/workbench/user-managed/iam">Full list of available roles and permission.</a></p>
<h3 id="local-development-and-ssh">Local development and SSH<a class="headerlink" href="#local-development-and-ssh" title="Permanent link">#</a></h3>
<p>If you wish to develop code in your local IDE and run it on Vertex-AI notebooks, we have a solution for you.
Assuming your notebook is already running, you can set up an SSH connection via:</p>
<div class="codehilite"><pre><span></span><code>wanna notebook ssh --background -n notebook_name
</code></pre></div>

<p>Wanna will create an SSH tunnel using GCP IAP from your local environment to your notebook.</p>
<p>The <code>--background/-b</code> flag means that the tunnel will be created in the background and you can 
access the notebook running in GCP at <code>localhost:8080</code> (port can be customized with <code>--port</code>).
The second possibility is to use <code>--interactive/-i</code> and that will start a bash inside the Compute Engine
instance backing your Vertex-AI notebook.</p>
<p>Once you set an <code>--background</code> connection to the notebook, you can use your favorite IDE to develop
in the notebook. Here we share instructions on how to use VSCode for this.</p>
<h4 id="connecting-with-vscode">Connecting with VSCode<a class="headerlink" href="#connecting-with-vscode" title="Permanent link">#</a></h4>
<ol>
<li>Install Jupyter Extension </li>
<li>Create a new file with the type Jupyter notebook</li>
<li>
<p>Select the Jupyter Server: local button in the global Status bar or run the 
   Jupyter: Specify local or remote Jupyter server for connections command from the Command Palette (⇧⌘P).</p>
</li>
<li>
<p>Select option <code>Existing URL</code> and input <code>http://localhost:8080</code></p>
</li>
<li>You should be connected. If you get an error saying something like <code>'_xsrf' argument missing from POST.</code>,
it is because the VSCode cannot start a python kernel in GCP. The current workaround is to manually start
   a kernel at <code>http://localhost:8080</code> and then in the VSCode connect to the exiting kernel in the right upper corner.</li>
</ol>
<p>A more detailed guide on setting a connection with VSCode to Jupyter can be found at https://code.visualstudio.com/docs/datascience/jupyter-notebooks.</p>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nx">notebooks</span><span class="p">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="nx">wanna</span><span class="o">-</span><span class="nx">notebook</span><span class="o">-</span><span class="nx">trial</span>
<span class="w">    </span><span class="nx">service_account</span><span class="p">:</span>
<span class="w">    </span><span class="nx">owner</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="nx">machine_type</span><span class="p">:</span><span class="w"> </span><span class="nx">n1</span><span class="o">-</span><span class="nx">standard</span><span class="o">-</span><span class="mi">4</span>
<span class="w">    </span><span class="nx">labels</span><span class="p">:</span>
<span class="w">      </span><span class="nx">notebook_usecase</span><span class="p">:</span><span class="w"> </span><span class="nx">wanna</span><span class="o">-</span><span class="nx">notebook</span><span class="o">-</span><span class="nx">sample</span><span class="o">-</span><span class="nx">simple</span><span class="o">-</span><span class="nx">pip</span>
<span class="w">    </span><span class="nx">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nx">vm_image</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="nx">gpu</span><span class="p">:</span>
<span class="w">      </span><span class="nx">count</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="nx">accelerator_type</span><span class="p">:</span><span class="w"> </span><span class="nx">NVIDIA_TESLA_V100</span>
<span class="w">      </span><span class="nx">install_gpu_driver</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="nx">boot_disk</span><span class="p">:</span>
<span class="w">      </span><span class="nx">disk_type</span><span class="p">:</span><span class="w"> </span><span class="nx">pd_standard</span>
<span class="w">      </span><span class="nx">size_gb</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">    </span><span class="nx">data_disk</span><span class="p">:</span>
<span class="w">      </span><span class="nx">disk_type</span><span class="p">:</span><span class="w"> </span><span class="nx">pd_standard</span>
<span class="w">      </span><span class="nx">size_gb</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">    </span><span class="nx">bucket_mounts</span><span class="p">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="nx">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="nx">us</span><span class="o">-</span><span class="nx">burger</span><span class="o">-</span><span class="nx">gcp</span><span class="o">-</span><span class="nx">poc</span><span class="o">-</span><span class="nx">mooncloud</span>
<span class="w">        </span><span class="nx">bucket_dir</span><span class="p">:</span><span class="w"> </span><span class="nx">data</span>
<span class="w">        </span><span class="nx">local_path</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">jupyter</span><span class="o">/</span><span class="nx">mounted</span><span class="o">/</span><span class="nx">gcs</span>
<span class="w">    </span><span class="nx">tensorboard_ref</span><span class="p">:</span><span class="w"> </span><span class="nx">my</span><span class="o">-</span><span class="nx">super</span><span class="o">-</span><span class="nx">tensorboard</span>
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>